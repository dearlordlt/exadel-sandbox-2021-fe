<div class="table-wrapper">
  <app-search-candidate (searchEvent)="searchList($event)"></app-search-candidate>

  <h3 class="table-header">List of candidates</h3>
  
  <div style=" margin-left: 20px">
    <mat-form-field *ngFor="let filter of filterSelectObj" style="width:8%; margin-left: 25px;">

      <mat-label>Filter {{filter.name}}</mat-label>
      <select matNativeControl name="{{filter.columnProp}}" [(ngModel)]="filter.modelValue" (change)="filterChange(filter,$event)">
        <option value="">-- Select {{filter.name}} --</option>
        <option [value]="item" *ngFor="let item of filter.options">{{item}}</option>
      </select>
    </mat-form-field>
    &nbsp;
    <button mat-flat-button color="primary" (click)="resetFilters()">Reset</button>
  </div>

  <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8 table">
    <ng-container matColumnDef="edit">
      <th mat-header-cell *matHeaderCellDef mat-sort-header></th>
      <td mat-cell *matCellDef="let candidate">
        <mat-icon class="feedback-icon" (click)="writeFeedback()">feedback</mat-icon>
        <mat-icon class="feedback-icon" (click)="readFeedback()">feedback</mat-icon>
        <mat-icon class="edit-icon">mode_edit</mat-icon>
      </td>
    </ng-container>
    <ng-container matColumnDef="firstname">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>First name</th>
      <td mat-cell *matCellDef="let candidate">{{candidate.firstname}}</td>
    </ng-container>

    <ng-container matColumnDef="lastname">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Second name</th>
      <td mat-cell *matCellDef="let candidate">{{candidate.lastname}}</td>
    </ng-container>

    <ng-container matColumnDef="eduProg">
      <th mat-header-cell *matHeaderCellDef>
        <mat-form-field>
          <mat-label>Educational Programs</mat-label>
          <mat-select formControlName="searchEduProgram">
            <mat-option *ngFor="let program of programs">{{program}}</mat-option>
          </mat-select>
        </mat-form-field>
      </th>
      <td mat-cell *matCellDef="let candidate">{{candidate.eduProg}}</td>
    </ng-container>

    <ng-container matColumnDef="position">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Position/technology</th>
      <td mat-cell *matCellDef="let candidate">{{candidate.position}}</td>
    </ng-container>

    <ng-container matColumnDef="email">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Email</th>
      <td mat-cell *matCellDef="let candidate">{{candidate.email}}</td>
    </ng-container>

    <ng-container matColumnDef="skype">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Skype</th>
      <td mat-cell *matCellDef="let candidate">{{candidate.skype}}</td>
    </ng-container>

    <ng-container matColumnDef="phone_number">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Phone</th>
      <td mat-cell *matCellDef="let candidate">{{candidate.phone_number}}</td>
    </ng-container>

    <ng-container matColumnDef="country">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Country</th>
      <td mat-cell *matCellDef="let candidate">{{candidate.country}}</td>
    </ng-container>

    <ng-container matColumnDef="city">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>City</th>
      <td mat-cell *matCellDef="let candidate">{{candidate.city}}</td>
    </ng-container>

    <ng-container matColumnDef="english_level">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>English level</th>
      <td mat-cell *matCellDef="let candidate">{{candidate.english_level}}</td>
    </ng-container>

    <ng-container matColumnDef="contact_time">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Contact time</th>
      <td mat-cell *matCellDef="let candidate">{{candidate.contact_time}}</td>
    </ng-container>

    <ng-container matColumnDef="plan_to_join">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Plan to Join Exadel</th>
      <td mat-cell *matCellDef="let candidate">{{candidate.plan_to_join}}</td>
    </ng-container>

    <ng-container matColumnDef="date_of_apply">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Date of Applying</th>
      <td mat-cell *matCellDef="let candidate">{{candidate.date_of_apply}}</td>
    </ng-container>

    <!-- Assessment -->
    <ng-container matColumnDef="status">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Status</th>
      <td mat-cell *matCellDef="let candidate">{{candidate.status}}</td>
    </ng-container>

    <ng-container matColumnDef="soft_skill">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Soft Skill</th>
      <td mat-cell *matCellDef="let candidate">{{candidate.soft_skill}}</td>
    </ng-container>

    <ng-container matColumnDef="hard_skill">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Hard Skill</th>
      <td mat-cell *matCellDef="let candidate">{{candidate.hard_skill}}</td>
    </ng-container>

    <ng-container matColumnDef="mentor_mark">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Mentor's mark</th>
      <td mat-cell *matCellDef="let candidate">{{candidate.mentor_mark}}</td>
    </ng-container>

    <ng-container matColumnDef="interviewer_mark">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Interviewer's mark after Sandbox</th>
      <td mat-cell *matCellDef="let candidate">{{candidate.interviewer_mark}}</td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
</div>
